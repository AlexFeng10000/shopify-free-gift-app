{
  "buildCommand": "npm run vercel-build",
  "public": false,
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Frame-Options",
          "value": "ALLOWALL"
        },
        {
          "key": "Content-Security-Policy",
          "value": "frame-ancestors https://*.myshopify.com https://admin.shopify.com;"
        },
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        }
      ]
    }
  ],
  "rewrites": [
    {
      "source": "/auth/callback",
      "destination": "/api/auth/callback"
    },
    {
      "source": "/auth/install",
      "destination": "/api/auth/install"
    },
    {
      "source": "/app",
      "destination": "/api/app"
    },
    {
      "source": "/api/session-test",
      "destination": "/api/session-test"
    },
    {
      "source": "/webhooks/(.*)",
      "destination": "/api/server"
    },
    {
      "source": "/static/(.*)",
      "destination": "/client/build/static/$1"
    },
    {
      "source": "/favicon.ico",
      "destination": "/client/build/favicon.ico"
    },
    {
      "source": "/(.*)",
      "destination": "/api/index"
    }
  ]
}